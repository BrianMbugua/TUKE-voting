{% extends "base.html" %}

{% block content %}

    <div class="container text-center">
        <h3>Vote</h3>
    </div>
    
    {% if current_user.voted == False %}
    <div class="container content-section">
                             
        <form method="POST" action="" >
            {{ form.hidden_tag() }}
            <fieldset class="'form-group">
                <legend class="border-bottom mb-4">Cast Your Vote</legend>
                <div> 
                    <p>SCHOOL: {{ current_user.school }} </p>
                </div> 
                <div class="form-group">
                    {{ form.delegate.label(class="form-control-label") }}
                    {{ form.delegate(class="form-control form-control-lg", id="delegate") }}
                </div>             
                <div class="form-group">
                    {{ form.school_rep.label(class="form-control-label") }}
                    {{ form.school_rep(class="form-control form-control-lg", id="school_rep") }}
                </div>
                <div class="form-group">
                    {{ form.submit(class="btn btn-outline-info") }}
                </div> 
            </fieldset>
        </form>
        {% else %}
        <div class="container content-section text-center">
        <h3>Thank You</h3>
        </div>
    </div>
    {% endif %}
    
    
    <div class="container text-center mt-1">
        <h3>{{current_user.school}} Candidates</h3>
        <div class="row row-cols-1 row-cols-md-4 g-4">  
        <div class="row row-cols-1 row-cols-md-4 g-4">
            <div class="col">
                <h2>Delegates</h2></div>
            <div class="col">
                <h2>School Representatives</h2></div>
        </div>    
            {% for candidate in candidate %}
            <div class="col">
                <div class="card h-100">
                    <img class="rounded-circle card-img-top ms-4 mt-4" alt="Candidate Face" src=" {{ url_for('static', filename='profile_pics/' + candidate.image_file)}} ">
                    <div class="card-body">                
                        <h4 class="card-title mb-2">
                            <a href=" {{ url_for('candidate', first_name=candidate.first_name)}} " class="card-link">
                                <p class="card-text"> {{candidate.first_name}} {{candidate.last_name}}</p>
                            </a>
                        </h4>
                        <h4 class="card-text text-muted">{{candidate.position}} </h4>
                    </div>
                </div>
            </div>  
            {% endfor %}  

        
            {% for candidate in candidate2 %}
            <div class="col">
            

                <div class="card h-100">
                    <img class="rounded-circle card-img-top ms-4 mt-4" alt="Candidate Face" src=" {{ url_for('static', filename='profile_pics/' + candidate.image_file)}} ">
                    <div class="card-body">                
                        <h4 class="card-title mb-2">
                            <a href=" {{ url_for('candidate', first_name=candidate.first_name)}} " class="card-link">
                                <p class="card-text"> {{candidate.first_name}} {{candidate.last_name}}</p>
                            </a>
                        </h4>
                        <h4 class="card-text text-muted">{{candidate.position}} </h4>
                    </div>
                </div>
            </div>  
            {% endfor %} 

    </div> 
</div> 

    

{% endblock content %}
